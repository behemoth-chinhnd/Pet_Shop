{"ast":null,"code":"import globalState from '../globalState.js';\nimport { setAriaHidden } from './aria.js';\nimport { swalClasses } from './classes.js';\nimport * as dom from './dom/index.js';\nimport { iOSfix } from './iosFix.js';\nimport { fixScrollbar } from './scrollbarFix.js';\nexport const SHOW_CLASS_TIMEOUT = 10;\n/**\n * Open popup, add necessary classes and styles, fix scrollbar\n *\n * @param {SweetAlertOptions} params\n */\n\nexport const openPopup = params => {\n  const container = dom.getContainer();\n  const popup = dom.getPopup();\n\n  if (typeof params.willOpen === 'function') {\n    params.willOpen(popup);\n  }\n\n  const bodyStyles = window.getComputedStyle(document.body);\n  const initialBodyOverflow = bodyStyles.overflowY;\n  addClasses(container, popup, params); // scrolling is 'hidden' until animation is done, after that 'auto'\n\n  setTimeout(() => {\n    setScrollingVisibility(container, popup);\n  }, SHOW_CLASS_TIMEOUT);\n\n  if (dom.isModal()) {\n    fixScrollContainer(container, params.scrollbarPadding, initialBodyOverflow);\n    setAriaHidden();\n  }\n\n  if (!dom.isToast() && !globalState.previousActiveElement) {\n    globalState.previousActiveElement = document.activeElement;\n  }\n\n  if (typeof params.didOpen === 'function') {\n    setTimeout(() => params.didOpen(popup));\n  }\n\n  dom.removeClass(container, swalClasses['no-transition']);\n};\n/**\n * @param {AnimationEvent} event\n */\n\nconst swalOpenAnimationFinished = event => {\n  const popup = dom.getPopup();\n\n  if (event.target !== popup) {\n    return;\n  }\n\n  const container = dom.getContainer();\n  popup.removeEventListener(dom.animationEndEvent, swalOpenAnimationFinished);\n  container.style.overflowY = 'auto';\n};\n/**\n * @param {HTMLElement} container\n * @param {HTMLElement} popup\n */\n\n\nconst setScrollingVisibility = (container, popup) => {\n  if (dom.animationEndEvent && dom.hasCssAnimation(popup)) {\n    container.style.overflowY = 'hidden';\n    popup.addEventListener(dom.animationEndEvent, swalOpenAnimationFinished);\n  } else {\n    container.style.overflowY = 'auto';\n  }\n};\n/**\n * @param {HTMLElement} container\n * @param {boolean} scrollbarPadding\n * @param {string} initialBodyOverflow\n */\n\n\nconst fixScrollContainer = (container, scrollbarPadding, initialBodyOverflow) => {\n  iOSfix();\n\n  if (scrollbarPadding && initialBodyOverflow !== 'hidden') {\n    fixScrollbar();\n  } // sweetalert2/issues/1247\n\n\n  setTimeout(() => {\n    container.scrollTop = 0;\n  });\n};\n/**\n * @param {HTMLElement} container\n * @param {HTMLElement} popup\n * @param {SweetAlertOptions} params\n */\n\n\nconst addClasses = (container, popup, params) => {\n  dom.addClass(container, params.showClass.backdrop); // this workaround with opacity is needed for https://github.com/sweetalert2/sweetalert2/issues/2059\n\n  popup.style.setProperty('opacity', '0', 'important');\n  dom.show(popup, 'grid');\n  setTimeout(() => {\n    // Animate popup right after showing it\n    dom.addClass(popup, params.showClass.popup); // and remove the opacity workaround\n\n    popup.style.removeProperty('opacity');\n  }, SHOW_CLASS_TIMEOUT); // 10ms in order to fix #2062\n\n  dom.addClass([document.documentElement, document.body], swalClasses.shown);\n\n  if (params.heightAuto && params.backdrop && !params.toast) {\n    dom.addClass([document.documentElement, document.body], swalClasses['height-auto']);\n  }\n};","map":{"version":3,"names":["globalState","setAriaHidden","swalClasses","dom","iOSfix","fixScrollbar","SHOW_CLASS_TIMEOUT","openPopup","params","container","getContainer","popup","getPopup","willOpen","bodyStyles","window","getComputedStyle","document","body","initialBodyOverflow","overflowY","addClasses","setTimeout","setScrollingVisibility","isModal","fixScrollContainer","scrollbarPadding","isToast","previousActiveElement","activeElement","didOpen","removeClass","swalOpenAnimationFinished","event","target","removeEventListener","animationEndEvent","style","hasCssAnimation","addEventListener","scrollTop","addClass","showClass","backdrop","setProperty","show","removeProperty","documentElement","shown","heightAuto","toast"],"sources":["E:/Behemoth/Project/node_modules/sweetalert2/src/utils/openPopup.js"],"sourcesContent":["import globalState from '../globalState.js'\nimport { setAriaHidden } from './aria.js'\nimport { swalClasses } from './classes.js'\nimport * as dom from './dom/index.js'\nimport { iOSfix } from './iosFix.js'\nimport { fixScrollbar } from './scrollbarFix.js'\n\nexport const SHOW_CLASS_TIMEOUT = 10\n\n/**\n * Open popup, add necessary classes and styles, fix scrollbar\n *\n * @param {SweetAlertOptions} params\n */\nexport const openPopup = (params) => {\n  const container = dom.getContainer()\n  const popup = dom.getPopup()\n\n  if (typeof params.willOpen === 'function') {\n    params.willOpen(popup)\n  }\n\n  const bodyStyles = window.getComputedStyle(document.body)\n  const initialBodyOverflow = bodyStyles.overflowY\n  addClasses(container, popup, params)\n\n  // scrolling is 'hidden' until animation is done, after that 'auto'\n  setTimeout(() => {\n    setScrollingVisibility(container, popup)\n  }, SHOW_CLASS_TIMEOUT)\n\n  if (dom.isModal()) {\n    fixScrollContainer(container, params.scrollbarPadding, initialBodyOverflow)\n    setAriaHidden()\n  }\n\n  if (!dom.isToast() && !globalState.previousActiveElement) {\n    globalState.previousActiveElement = document.activeElement\n  }\n\n  if (typeof params.didOpen === 'function') {\n    setTimeout(() => params.didOpen(popup))\n  }\n\n  dom.removeClass(container, swalClasses['no-transition'])\n}\n\n/**\n * @param {AnimationEvent} event\n */\nconst swalOpenAnimationFinished = (event) => {\n  const popup = dom.getPopup()\n  if (event.target !== popup) {\n    return\n  }\n  const container = dom.getContainer()\n  popup.removeEventListener(dom.animationEndEvent, swalOpenAnimationFinished)\n  container.style.overflowY = 'auto'\n}\n\n/**\n * @param {HTMLElement} container\n * @param {HTMLElement} popup\n */\nconst setScrollingVisibility = (container, popup) => {\n  if (dom.animationEndEvent && dom.hasCssAnimation(popup)) {\n    container.style.overflowY = 'hidden'\n    popup.addEventListener(dom.animationEndEvent, swalOpenAnimationFinished)\n  } else {\n    container.style.overflowY = 'auto'\n  }\n}\n\n/**\n * @param {HTMLElement} container\n * @param {boolean} scrollbarPadding\n * @param {string} initialBodyOverflow\n */\nconst fixScrollContainer = (container, scrollbarPadding, initialBodyOverflow) => {\n  iOSfix()\n\n  if (scrollbarPadding && initialBodyOverflow !== 'hidden') {\n    fixScrollbar()\n  }\n\n  // sweetalert2/issues/1247\n  setTimeout(() => {\n    container.scrollTop = 0\n  })\n}\n\n/**\n * @param {HTMLElement} container\n * @param {HTMLElement} popup\n * @param {SweetAlertOptions} params\n */\nconst addClasses = (container, popup, params) => {\n  dom.addClass(container, params.showClass.backdrop)\n  // this workaround with opacity is needed for https://github.com/sweetalert2/sweetalert2/issues/2059\n  popup.style.setProperty('opacity', '0', 'important')\n  dom.show(popup, 'grid')\n  setTimeout(() => {\n    // Animate popup right after showing it\n    dom.addClass(popup, params.showClass.popup)\n    // and remove the opacity workaround\n    popup.style.removeProperty('opacity')\n  }, SHOW_CLASS_TIMEOUT) // 10ms in order to fix #2062\n\n  dom.addClass([document.documentElement, document.body], swalClasses.shown)\n  if (params.heightAuto && params.backdrop && !params.toast) {\n    dom.addClass([document.documentElement, document.body], swalClasses['height-auto'])\n  }\n}\n"],"mappings":"AAAA,OAAOA,WAAP,MAAwB,mBAAxB;AACA,SAASC,aAAT,QAA8B,WAA9B;AACA,SAASC,WAAT,QAA4B,cAA5B;AACA,OAAO,KAAKC,GAAZ,MAAqB,gBAArB;AACA,SAASC,MAAT,QAAuB,aAAvB;AACA,SAASC,YAAT,QAA6B,mBAA7B;AAEA,OAAO,MAAMC,kBAAkB,GAAG,EAA3B;AAEP;AACA;AACA;AACA;AACA;;AACA,OAAO,MAAMC,SAAS,GAAIC,MAAD,IAAY;EACnC,MAAMC,SAAS,GAAGN,GAAG,CAACO,YAAJ,EAAlB;EACA,MAAMC,KAAK,GAAGR,GAAG,CAACS,QAAJ,EAAd;;EAEA,IAAI,OAAOJ,MAAM,CAACK,QAAd,KAA2B,UAA/B,EAA2C;IACzCL,MAAM,CAACK,QAAP,CAAgBF,KAAhB;EACD;;EAED,MAAMG,UAAU,GAAGC,MAAM,CAACC,gBAAP,CAAwBC,QAAQ,CAACC,IAAjC,CAAnB;EACA,MAAMC,mBAAmB,GAAGL,UAAU,CAACM,SAAvC;EACAC,UAAU,CAACZ,SAAD,EAAYE,KAAZ,EAAmBH,MAAnB,CAAV,CAVmC,CAYnC;;EACAc,UAAU,CAAC,MAAM;IACfC,sBAAsB,CAACd,SAAD,EAAYE,KAAZ,CAAtB;EACD,CAFS,EAEPL,kBAFO,CAAV;;EAIA,IAAIH,GAAG,CAACqB,OAAJ,EAAJ,EAAmB;IACjBC,kBAAkB,CAAChB,SAAD,EAAYD,MAAM,CAACkB,gBAAnB,EAAqCP,mBAArC,CAAlB;IACAlB,aAAa;EACd;;EAED,IAAI,CAACE,GAAG,CAACwB,OAAJ,EAAD,IAAkB,CAAC3B,WAAW,CAAC4B,qBAAnC,EAA0D;IACxD5B,WAAW,CAAC4B,qBAAZ,GAAoCX,QAAQ,CAACY,aAA7C;EACD;;EAED,IAAI,OAAOrB,MAAM,CAACsB,OAAd,KAA0B,UAA9B,EAA0C;IACxCR,UAAU,CAAC,MAAMd,MAAM,CAACsB,OAAP,CAAenB,KAAf,CAAP,CAAV;EACD;;EAEDR,GAAG,CAAC4B,WAAJ,CAAgBtB,SAAhB,EAA2BP,WAAW,CAAC,eAAD,CAAtC;AACD,CA/BM;AAiCP;AACA;AACA;;AACA,MAAM8B,yBAAyB,GAAIC,KAAD,IAAW;EAC3C,MAAMtB,KAAK,GAAGR,GAAG,CAACS,QAAJ,EAAd;;EACA,IAAIqB,KAAK,CAACC,MAAN,KAAiBvB,KAArB,EAA4B;IAC1B;EACD;;EACD,MAAMF,SAAS,GAAGN,GAAG,CAACO,YAAJ,EAAlB;EACAC,KAAK,CAACwB,mBAAN,CAA0BhC,GAAG,CAACiC,iBAA9B,EAAiDJ,yBAAjD;EACAvB,SAAS,CAAC4B,KAAV,CAAgBjB,SAAhB,GAA4B,MAA5B;AACD,CARD;AAUA;AACA;AACA;AACA;;;AACA,MAAMG,sBAAsB,GAAG,CAACd,SAAD,EAAYE,KAAZ,KAAsB;EACnD,IAAIR,GAAG,CAACiC,iBAAJ,IAAyBjC,GAAG,CAACmC,eAAJ,CAAoB3B,KAApB,CAA7B,EAAyD;IACvDF,SAAS,CAAC4B,KAAV,CAAgBjB,SAAhB,GAA4B,QAA5B;IACAT,KAAK,CAAC4B,gBAAN,CAAuBpC,GAAG,CAACiC,iBAA3B,EAA8CJ,yBAA9C;EACD,CAHD,MAGO;IACLvB,SAAS,CAAC4B,KAAV,CAAgBjB,SAAhB,GAA4B,MAA5B;EACD;AACF,CAPD;AASA;AACA;AACA;AACA;AACA;;;AACA,MAAMK,kBAAkB,GAAG,CAAChB,SAAD,EAAYiB,gBAAZ,EAA8BP,mBAA9B,KAAsD;EAC/Ef,MAAM;;EAEN,IAAIsB,gBAAgB,IAAIP,mBAAmB,KAAK,QAAhD,EAA0D;IACxDd,YAAY;EACb,CAL8E,CAO/E;;;EACAiB,UAAU,CAAC,MAAM;IACfb,SAAS,CAAC+B,SAAV,GAAsB,CAAtB;EACD,CAFS,CAAV;AAGD,CAXD;AAaA;AACA;AACA;AACA;AACA;;;AACA,MAAMnB,UAAU,GAAG,CAACZ,SAAD,EAAYE,KAAZ,EAAmBH,MAAnB,KAA8B;EAC/CL,GAAG,CAACsC,QAAJ,CAAahC,SAAb,EAAwBD,MAAM,CAACkC,SAAP,CAAiBC,QAAzC,EAD+C,CAE/C;;EACAhC,KAAK,CAAC0B,KAAN,CAAYO,WAAZ,CAAwB,SAAxB,EAAmC,GAAnC,EAAwC,WAAxC;EACAzC,GAAG,CAAC0C,IAAJ,CAASlC,KAAT,EAAgB,MAAhB;EACAW,UAAU,CAAC,MAAM;IACf;IACAnB,GAAG,CAACsC,QAAJ,CAAa9B,KAAb,EAAoBH,MAAM,CAACkC,SAAP,CAAiB/B,KAArC,EAFe,CAGf;;IACAA,KAAK,CAAC0B,KAAN,CAAYS,cAAZ,CAA2B,SAA3B;EACD,CALS,EAKPxC,kBALO,CAAV,CAL+C,CAUxB;;EAEvBH,GAAG,CAACsC,QAAJ,CAAa,CAACxB,QAAQ,CAAC8B,eAAV,EAA2B9B,QAAQ,CAACC,IAApC,CAAb,EAAwDhB,WAAW,CAAC8C,KAApE;;EACA,IAAIxC,MAAM,CAACyC,UAAP,IAAqBzC,MAAM,CAACmC,QAA5B,IAAwC,CAACnC,MAAM,CAAC0C,KAApD,EAA2D;IACzD/C,GAAG,CAACsC,QAAJ,CAAa,CAACxB,QAAQ,CAAC8B,eAAV,EAA2B9B,QAAQ,CAACC,IAApC,CAAb,EAAwDhB,WAAW,CAAC,aAAD,CAAnE;EACD;AACF,CAhBD"},"metadata":{},"sourceType":"module"}