{"ast":null,"code":"export default {\n  data() {\n    return {\n      id: \"\",\n      username: \"\",\n      email: \"\",\n      password: \"\",\n      user: {\n        email: localStorage.getItem(\"email\"),\n        token: localStorage.getItem(\"token\"),\n        username: \"\"\n      }\n    };\n  },\n\n  created() {\n    console.log(this.user.email);\n    this.test();\n    this.checkUser();\n  },\n\n  mounted() {//     const authorizationHeader = headers[this.token];\n    //     this.user.name = authorizationHeader;\n    //     const chunks = this.token.split(\"\\\\.\");\n    //     const decoder = Base64.getUrlDecoder();\n    //     const header = new String(decoder.decode(chunks[0]));\n    //     const payload = new String(decoder.decode(chunks[1]));\n  },\n\n  methods: {\n    test() {\n      console.log(localStorage.getItem(\"email\"));\n    },\n\n    logoutUser() {},\n\n    checkUser() {\n      console.log(this.user.email);\n      this.$request.post(\"http://localhost:8000/api/client\", {\n        email: this.user.email // password: this.password,\n\n      }).then(res => {\n        // console.log(res);\n        if (!res.data.success) {\n          console.log(res.data.success);\n          console.log(res.status);\n        }\n\n        if (res.data.success) {\n          // console.log(res.data.token);\n          console.log(res.data.user.login);\n          localStorage.setItem(\"token\", res.data.user.token);\n          localStorage.setItem(\"login\", res.data.user.login);\n          this.user.username = res.data.user.username;\n          this.user.password = res.data.user.password; // this.user.name = res.data.user.name;\n          // console.log(this.user.name);\n          // this.user.token = localStorage.getItem(\"token\");\n          // this.user.name = res.data.user.name;\n          // console.log(token);\n          // this.$router.push(\"/products\");\n        }\n      });\n    },\n\n    submit() {\n      //       const axios = require(\"axios\").default;\n      //       const self = this;\n      //       axios\n      this.$request.post(\"http://localhost:8000/api/login\", {\n        email: this.email,\n        password: this.password\n      }).then(res => {\n        // console.log(res);\n        if (!res.data.success) {\n          console.log(res.data.success);\n          console.log(res.status);\n        }\n\n        if (res.data.success) {\n          console.log(res.data.login);\n          console.log(res.data.token);\n          console.log(res.data.user.email);\n          localStorage.setItem(\"token\", res.data.token);\n          localStorage.setItem(\"email\", res.data.user.email);\n          localStorage.setItem(\"logindone\", res.data.user.login);\n          this.user.name = res.data.user.name;\n          console.log(this.user.name);\n          this.user.token = localStorage.getItem(\"token\"); // this.user.name = res.data.user.name;\n          // console.log(token);\n          // this.$router.push(\"/products\");\n        }\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAwBA;EACAA;IACA;MACAC,MADA;MAEAC,YAFA;MAGAC,SAHA;MAIAC,YAJA;MAKAC;QACAF,oCADA;QAEAG,oCAFA;QAGAJ;MAHA;IALA;EAWA,CAbA;;EAcAK;IACAC;IACA;IACA;EACA,CAlBA;;EAmBAC,WACA;IACA;IACA;IACA;IACA;IACA;EACA,CA1BA;;EA4BAC;IACAC;MACAH;IACA,CAHA;;IAIAI,eAJA;;IAKAC;MACAL;MACA,cACAM,IADA,CACA,kCADA,EACA;QACAX,sBADA,CAGA;;MAHA,CADA,EAMAY,IANA,CAMAC;QACA;QAEA;UACAR;UACAA;QACA;;QAEA;UACA;UACAA;UACAS;UACAA;UACA;UACA,4CANA,CAQA;UACA;UACA;UACA;UACA;UACA;QACA;MACA,CA7BA;IA8BA,CArCA;;IAuCAC;MACA;MAEA;MACA;MACA,cACAJ,IADA,CACA,iCADA,EACA;QACAX,iBADA;QAEAC;MAFA,CADA,EAKAW,IALA,CAKAC;QACA;QAEA;UACAR;UACAA;QACA;;QAEA;UACAA;UACAA;UACAA;UACAS;UACAA;UACAA;UACA;UACAT;UACA,gDATA,CAWA;UACA;UACA;QACA;MACA,CA5BA;IA6BA;;EAzEA;AA5BA","names":["data","id","username","email","password","user","token","created","console","mounted","methods","test","logoutUser","checkUser","post","then","res","localStorage","submit"],"sourceRoot":"src/components/users","sources":["LoginUser.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <h1>{{ user.username }}</h1>\r\n    <h1>{{ user.email }}</h1>\r\n    <h1>{{ user.password }}</h1>\r\n\r\n    <br />\r\n\r\n    <p>token: {{ user.token }}</p>\r\n\r\n    email: <input type=\"text\" v-model=\"email\" />\r\n    <br />\r\n\r\n    <br />\r\n\r\n    password: <input type=\"password\" v-model=\"password\" />\r\n\r\n    <br />\r\n\r\n    <button class=\"btn btn-primary\" @click=\"submit\">button</button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      id: \"\",\r\n      username: \"\",\r\n      email: \"\",\r\n      password: \"\",\r\n      user: {\r\n        email: localStorage.getItem(\"email\"),\r\n        token: localStorage.getItem(\"token\"),\r\n        username: \"\",\r\n      },\r\n    };\r\n  },\r\n  created() {\r\n    console.log(this.user.email);\r\n    this.test();\r\n    this.checkUser();\r\n  },\r\n  mounted() {\r\n    //     const authorizationHeader = headers[this.token];\r\n    //     this.user.name = authorizationHeader;\r\n    //     const chunks = this.token.split(\"\\\\.\");\r\n    //     const decoder = Base64.getUrlDecoder();\r\n    //     const header = new String(decoder.decode(chunks[0]));\r\n    //     const payload = new String(decoder.decode(chunks[1]));\r\n  },\r\n\r\n  methods: {\r\n    test() {\r\n      console.log(localStorage.getItem(\"email\"));\r\n    },\r\n    logoutUser() {},\r\n    checkUser() {\r\n      console.log(this.user.email);\r\n      this.$request\r\n        .post(\"http://localhost:8000/api/client\", {\r\n          email: this.user.email,\r\n\r\n          // password: this.password,\r\n        })\r\n        .then((res) => {\r\n          // console.log(res);\r\n\r\n          if (!res.data.success) {\r\n            console.log(res.data.success);\r\n            console.log(res.status);\r\n          }\r\n\r\n          if (res.data.success) {\r\n            // console.log(res.data.token);\r\n            console.log(res.data.user.login);\r\n            localStorage.setItem(\"token\", res.data.user.token);\r\n            localStorage.setItem(\"login\", res.data.user.login);\r\n            this.user.username = res.data.user.username;\r\n            this.user.password = res.data.user.password;\r\n\r\n            // this.user.name = res.data.user.name;\r\n            // console.log(this.user.name);\r\n            // this.user.token = localStorage.getItem(\"token\");\r\n            // this.user.name = res.data.user.name;\r\n            // console.log(token);\r\n            // this.$router.push(\"/products\");\r\n          }\r\n        });\r\n    },\r\n\r\n    submit() {\r\n      //       const axios = require(\"axios\").default;\r\n\r\n      //       const self = this;\r\n      //       axios\r\n      this.$request\r\n        .post(\"http://localhost:8000/api/login\", {\r\n          email: this.email,\r\n          password: this.password,\r\n        })\r\n        .then((res) => {\r\n          // console.log(res);\r\n\r\n          if (!res.data.success) {\r\n            console.log(res.data.success);\r\n            console.log(res.status);\r\n          }\r\n\r\n          if (res.data.success) {\r\n            console.log(res.data.login);\r\n            console.log(res.data.token);\r\n            console.log(res.data.user.email);\r\n            localStorage.setItem(\"token\", res.data.token);\r\n            localStorage.setItem(\"email\", res.data.user.email);\r\n            localStorage.setItem(\"logindone\", res.data.user.login);\r\n            this.user.name = res.data.user.name;\r\n            console.log(this.user.name);\r\n            this.user.token = localStorage.getItem(\"token\");\r\n\r\n            // this.user.name = res.data.user.name;\r\n            // console.log(token);\r\n            // this.$router.push(\"/products\");\r\n          }\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n"]},"metadata":{},"sourceType":"module"}