{"ast":null,"code":"export default {\n  data() {\n    return {\n      id: \"\",\n      username: \"\",\n      email: \"\",\n      password: \"\",\n      user: {\n        email: localStorage.getItem(\"email\"),\n        token: localStorage.getItem(\"token\"),\n        username: \"\"\n      }\n    };\n  },\n\n  created() {\n    console.log(this.user.email);\n    this.checkUser();\n  },\n\n  mounted() {},\n\n  methods: {\n    logoutUser() {\n      localStorage.removeItem(\"email\");\n      localStorage.removeItem(\"token\");\n      localStorage.removeItem(\"login\");\n    },\n\n    checkUser() {\n      console.log(this.user.email);\n      this.$request.post(\"http://localhost:8000/api/client\", {\n        email: this.user.email // password: this.password,\n\n      }).then(res => {\n        // console.log(res);\n        if (!res.data.success) {\n          console.log(res.data.success);\n          console.log(res.status);\n        }\n\n        if (res.data.success) {\n          // console.log(res.data.token);\n          console.log(res.data.user.login); // localStorage.setItem(\"token\", res.data.user.token);\n\n          localStorage.setItem(\"login\", \"online\");\n          this.user.username = res.data.user.username;\n          this.user.password = res.data.user.password; // this.user.name = res.data.user.name;\n          // console.log(this.user.name);\n          // this.user.token = localStorage.getItem(\"token\");\n          // this.user.name = res.data.user.name;\n          // console.log(token);\n          // this.$router.push(\"/products\");\n        }\n      });\n    },\n\n    submit() {\n      //       const axios = require(\"axios\").default;\n      //       const self = this;\n      //       axios\n      console.log(this);\n      this.$request.post(\"http://localhost:8000/api/login\", {\n        email: this.email,\n        password: this.password\n      }).then(res => {\n        // console.log(res);\n        if (!res.data.success) {\n          console.log(res.data.success);\n          console.log(res.status);\n        }\n\n        if (res.data.success) {\n          console.log(res.data.login);\n          console.log(res.data.token);\n          console.log(res.data.user.email);\n          localStorage.setItem(\"token\", res.data.token);\n          localStorage.setItem(\"email\", res.data.user.email);\n          localStorage.setItem(\"login\", \"online\");\n          this.user.name = res.data.user.name;\n          console.log(this.user.name);\n          this.user.token = localStorage.getItem(\"token\"); // this.$router.push({ name: \"users.list\" });\n\n          window.location.href = \"/admin/users\"; // this.user.name = res.data.user.name;\n          // console.log(token);\n          // this.$router.push(\"/products\");\n        }\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAkEA;EACAA;IACA;MACAC,MADA;MAEAC,YAFA;MAGAC,SAHA;MAIAC,YAJA;MAKAC;QACAF,oCADA;QAEAG,oCAFA;QAGAJ;MAHA;IALA;EAWA,CAbA;;EAcAK;IACAC;IACA;EACA,CAjBA;;EAkBAC,YAlBA;;EAoBAC;IACAC;MACAC;MACAA;MACAA;IACA,CALA;;IAMAC;MACAL;MACA,cACAM,IADA,CACA,kCADA,EACA;QACAX,sBADA,CAGA;;MAHA,CADA,EAMAY,IANA,CAMAC;QACA;QAEA;UACAR;UACAA;QACA;;QAEA;UACA;UACAA,iCAFA,CAGA;;UACAI;UACA;UACA,4CANA,CAQA;UACA;UACA;UACA;UACA;UACA;QACA;MACA,CA7BA;IA8BA,CAtCA;;IAwCAK;MACA;MAEA;MACA;MACAT;MACA,cACAM,IADA,CACA,iCADA,EACA;QACAX,iBADA;QAEAC;MAFA,CADA,EAKAW,IALA,CAKAC;QACA;QAEA;UACAR;UACAA;QACA;;QAEA;UACAA;UACAA;UACAA;UACAI;UACAA;UACAA;UACA;UACAJ;UACA,gDATA,CAUA;;UACAU,sCAXA,CAaA;UACA;UACA;QACA;MACA,CA9BA;IA+BA;;EA7EA;AApBA","names":["data","id","username","email","password","user","token","created","console","mounted","methods","logoutUser","localStorage","checkUser","post","then","res","submit","window"],"sourceRoot":"src/components/users","sources":["LoginUser.vue"],"sourcesContent":["<template>\r\n  <div class=\"body\">\r\n    <section id=\"main-body\">\r\n      <div class=\"container\">\r\n        <!-- <h1>{{ user.username }}</h1>\r\n    <h1>{{ user.email }}</h1>\r\n    <h1>{{ user.password }}</h1>\r\n    <h1>{{ $store.state.user.token }}</h1> -->\r\n\r\n        <!-- <br /> -->\r\n        <div class=\"row\">\r\n            <div class=\"col-lg-3 col-md-2\"></div>\r\n            <div class=\"col-lg-6 col-md-8 login-box\">\r\n                <div class=\"col-lg-12 login-key\">\r\n                    <i class=\"fa fa-key\" aria-hidden=\"true\"></i>\r\n                </div>\r\n                <div class=\"col-lg-12 login-title\">\r\n                    ADMIN PANEL\r\n                </div>\r\n\r\n                <div class=\"col-lg-12 login-form\">\r\n                    <div class=\"col-lg-12 login-form\">\r\n                        <form>\r\n                            <div class=\"form-group\">\r\n                                <label class=\"form-control-label\">USERNAME</label>\r\n                                <input type=\"text\" class=\"form-control\">\r\n                            </div>\r\n                            <div class=\"form-group\">\r\n                                <label class=\"form-control-label\">PASSWORD</label>\r\n                                <input type=\"password\" class=\"form-control\" i>\r\n                            </div>\r\n\r\n                            <div class=\"col-lg-12 loginbttm\">\r\n                                <div class=\"col-lg-6 login-btm login-text\">\r\n                                    <!-- Error Message -->\r\n                                </div>\r\n                                <div class=\"col-lg-6 login-btm login-button\">\r\n                                    <button type=\"submit\" class=\"btn btn-outline-primary\">LOGIN</button>\r\n                                </div>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-lg-3 col-md-2\"></div>\r\n            </div>\r\n        <form action=\"\" class=\"needs-validation text-left\" novalidate>\r\n          <div class=\"form-group row\">\r\n            <label for=\"inputEmail\" class=\"col-md-3 col-form-label\">Email</label>\r\n            <input type=\"email\" class=\"form-control\" v-model=\"email\" />\r\n          </div>\r\n\r\n          <div class=\"form-group row\">\r\n            <label for=\"inputEmail\" class=\"col-md-3 col-form-label\">Password</label>\r\n            <input type=\"password\" class=\"form-control\" v-model=\"password\" />\r\n          </div>\r\n          <div class=\"form-group gap-10px\">\r\n            <button class=\"btn btn-primary\" @click=\"submit\">button</button>\r\n            <button class=\"btn btn-danger\" @click=\"logoutUser\">Logout</button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </section>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      id: \"\",\r\n      username: \"\",\r\n      email: \"\",\r\n      password: \"\",\r\n      user: {\r\n        email: localStorage.getItem(\"email\"),\r\n        token: localStorage.getItem(\"token\"),\r\n        username: \"\",\r\n      },\r\n    };\r\n  },\r\n  created() {\r\n    console.log(this.user.email);\r\n    this.checkUser();\r\n  },\r\n  mounted() {},\r\n\r\n  methods: {\r\n    logoutUser() {\r\n      localStorage.removeItem(\"email\");\r\n      localStorage.removeItem(\"token\");\r\n      localStorage.removeItem(\"login\");\r\n    },\r\n    checkUser() {\r\n      console.log(this.user.email);\r\n      this.$request\r\n        .post(\"http://localhost:8000/api/client\", {\r\n          email: this.user.email,\r\n\r\n          // password: this.password,\r\n        })\r\n        .then((res) => {\r\n          // console.log(res);\r\n\r\n          if (!res.data.success) {\r\n            console.log(res.data.success);\r\n            console.log(res.status);\r\n          }\r\n\r\n          if (res.data.success) {\r\n            // console.log(res.data.token);\r\n            console.log(res.data.user.login);\r\n            // localStorage.setItem(\"token\", res.data.user.token);\r\n            localStorage.setItem(\"login\", \"online\");\r\n            this.user.username = res.data.user.username;\r\n            this.user.password = res.data.user.password;\r\n\r\n            // this.user.name = res.data.user.name;\r\n            // console.log(this.user.name);\r\n            // this.user.token = localStorage.getItem(\"token\");\r\n            // this.user.name = res.data.user.name;\r\n            // console.log(token);\r\n            // this.$router.push(\"/products\");\r\n          }\r\n        });\r\n    },\r\n\r\n    submit() {\r\n      //       const axios = require(\"axios\").default;\r\n\r\n      //       const self = this;\r\n      //       axios\r\n      console.log(this);\r\n      this.$request\r\n        .post(\"http://localhost:8000/api/login\", {\r\n          email: this.email,\r\n          password: this.password,\r\n        })\r\n        .then((res) => {\r\n          // console.log(res);\r\n\r\n          if (!res.data.success) {\r\n            console.log(res.data.success);\r\n            console.log(res.status);\r\n          }\r\n\r\n          if (res.data.success) {\r\n            console.log(res.data.login);\r\n            console.log(res.data.token);\r\n            console.log(res.data.user.email);\r\n            localStorage.setItem(\"token\", res.data.token);\r\n            localStorage.setItem(\"email\", res.data.user.email);\r\n            localStorage.setItem(\"login\", \"online\");\r\n            this.user.name = res.data.user.name;\r\n            console.log(this.user.name);\r\n            this.user.token = localStorage.getItem(\"token\");\r\n            // this.$router.push({ name: \"users.list\" });\r\n            window.location.href = \"/admin/users\";\r\n\r\n            // this.user.name = res.data.user.name;\r\n            // console.log(token);\r\n            // this.$router.push(\"/products\");\r\n          }\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style>\r\nbody {\r\n    background: #222D32;\r\n    font-family: 'Roboto', sans-serif;\r\n}\r\n\r\n.login-box {\r\n    margin-top: 75px;\r\n    height: auto;\r\n    background: #1A2226;\r\n    text-align: center;\r\n    box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23);\r\n}\r\n\r\n.login-key {\r\n    height: 100px;\r\n    font-size: 80px;\r\n    line-height: 100px;\r\n    background: -webkit-linear-gradient(#27EF9F, #0DB8DE);\r\n    -webkit-background-clip: text;\r\n    -webkit-text-fill-color: transparent;\r\n}\r\n\r\n.login-title {\r\n    margin-top: 15px;\r\n    text-align: center;\r\n    font-size: 30px;\r\n    letter-spacing: 2px;\r\n    margin-top: 15px;\r\n    font-weight: bold;\r\n    color: #ECF0F5;\r\n}\r\n\r\n.login-form {\r\n    margin-top: 25px;\r\n    text-align: left;\r\n}\r\n\r\ninput[type=text] {\r\n    background-color: #1A2226;\r\n    border: none;\r\n    border-bottom: 2px solid #0DB8DE;\r\n    border-top: 0px;\r\n    border-radius: 0px;\r\n    font-weight: bold;\r\n    outline: 0;\r\n    margin-bottom: 20px;\r\n    padding-left: 0px;\r\n    color: #ECF0F5;\r\n}\r\n\r\ninput[type=password] {\r\n    background-color: #1A2226;\r\n    border: none;\r\n    border-bottom: 2px solid #0DB8DE;\r\n    border-top: 0px;\r\n    border-radius: 0px;\r\n    font-weight: bold;\r\n    outline: 0;\r\n    padding-left: 0px;\r\n    margin-bottom: 20px;\r\n    color: #ECF0F5;\r\n}\r\n\r\n.form-group {\r\n    margin-bottom: 40px;\r\n    outline: 0px;\r\n}\r\n\r\n.form-control:focus {\r\n    border-color: inherit;\r\n    -webkit-box-shadow: none;\r\n    box-shadow: none;\r\n    border-bottom: 2px solid #0DB8DE;\r\n    outline: 0;\r\n    background-color: #1A2226;\r\n    color: #ECF0F5;\r\n}\r\n\r\ninput:focus {\r\n    outline: none;\r\n    box-shadow: 0 0 0;\r\n}\r\n\r\nlabel {\r\n    margin-bottom: 0px;\r\n}\r\n\r\n.form-control-label {\r\n    font-size: 10px;\r\n    color: #6C6C6C;\r\n    font-weight: bold;\r\n    letter-spacing: 1px;\r\n}\r\n\r\n.btn-outline-primary {\r\n    border-color: #0DB8DE;\r\n    color: #0DB8DE;\r\n    border-radius: 0px;\r\n    font-weight: bold;\r\n    letter-spacing: 1px;\r\n    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\r\n}\r\n\r\n.btn-outline-primary:hover {\r\n    background-color: #0DB8DE;\r\n    right: 0px;\r\n}\r\n\r\n.login-btm {\r\n    float: left;\r\n}\r\n\r\n.login-button {\r\n    padding-right: 0px;\r\n    text-align: right;\r\n    margin-bottom: 25px;\r\n}\r\n\r\n.login-text {\r\n    text-align: left;\r\n    padding-left: 0px;\r\n    color: #A2A4A4;\r\n}\r\n\r\n.loginbttm {\r\n    padding: 0px;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}