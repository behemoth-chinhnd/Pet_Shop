{"ast":null,"code":"// import HelloWorld from '@/components/HelloWorld.vue'\nexport default {\n  name: 'ProductForm',\n\n  data() {\n    return {\n      list: [],\n      products: [],\n      currentSort: 'name',\n      currentSortDir: 1\n    };\n  },\n\n  created() {\n    this.getAll();\n  },\n\n  mounted() {\n    console.log(this.products);\n    this.products = this.products.sort((a, b) => a.price - b.price);\n  },\n\n  methods: {\n    getAll() {\n      this.$request.get('http://localhost:8000/api/products').then(res => {\n        this.products = res.data;\n      });\n    },\n\n    sort: function (s) {\n      // if s == current sort, reverse\n      if (s === this.currentSort) {\n        this.currentSortDir = this.currentSortDir === 'asc' ? 'desc' : 'asc';\n      }\n\n      this.currentSort = s;\n    },\n\n    changeCurrentDir() {\n      this.currentSortDir = -this.currentSortDir;\n    } // setTimeout(changeCurrentDir, 1000)\n\n\n  },\n  watch: {\n    currentSortDir(value) {\n      console.log(this.products);\n      this.products.sort((a, b) => this.currentSortDir);\n    }\n\n  },\n  computed: {\n    changeCurrentDir() {\n      this.currentSortDir = -this.currentSortDir;\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAiCA;AAEA;EACAA,mBADA;;EAEAC;IACA;MACAC,QADA;MAEAC,YAFA;MAGAC,mBAHA;MAIAC;IAJA;EAMA,CATA;;EAUAC;IACA;EACA,CAZA;;EAcAC;IACAC;IACA;EACA,CAjBA;;EAkBAC;IACAC;MACA;QACA;MACA,CAFA;IAGA,CALA;;IAMAC;MACA;MACA;QACA;MACA;;MACA;IACA,CAZA;;IAaAC;MACA;IACA,CAfA,CAgBA;;;EAhBA,CAlBA;EAoCAC;IACAR;MACAG;MACA;IACA;;EAJA,CApCA;EA0CAM;IACAF;MACA;IACA;;EAHA;AA1CA","names":["name","data","list","products","currentSort","currentSortDir","created","mounted","console","methods","getAll","sort","changeCurrentDir","watch","computed"],"sourceRoot":"src/components/product","sources":["ListProduct.vue"],"sourcesContent":["<template>\r\n  <div id=\"product\">\r\n    <div class=\"pricing-header px-3 py-3 pt-md-5 pd-md-4 mx-auto text-center\">\r\n      <h2 class=\"display-4\">Product Management</h2>\r\n      <p><router-link to=\"/add-product\">Add New</router-link></p>\r\n    </div>\r\n      <div class=\"container\">\r\n      <div class=\"card-deck mb-3 text-center\">\r\n        <table class=\"table table-bordered\">\r\n          <thead>\r\n            <tr>\r\n              <th scope=\"col\">#</th>\r\n              <th scope=\"col\" >Product name</th>\r\n              <th scope=\"col\" @click=\"changeCurrentDir()\">Price</th>\r\n              <th scope=\"col\">Name</th>\r\n            </tr>\r\n          </thead>\r\n\r\n          <tbody >\r\n            <tr v-for=\"(product, index) in products\" :key=\"index\">\r\n              <td scope=\"row\">{{product.id}}</td>\r\n              <td>{{product.name}}</td>\r\n              <td>{{product.price}}</td>\r\n              <td></td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <!-- <router-view/> -->\r\n</template>\r\n<script>\r\n// import HelloWorld from '@/components/HelloWorld.vue'\r\n\r\nexport default {\r\n  name: 'ProductForm',\r\n  data () {\r\n    return {\r\n      list: [],\r\n      products: [],\r\n      currentSort: 'name',\r\n      currentSortDir: 1\r\n    }\r\n  },\r\n  created () {\r\n    this.getAll()\r\n  },\r\n\r\n  mounted () {\r\n    console.log(this.products)\r\n    this.products = this.products.sort((a, b) => a.price - b.price)\r\n  },\r\n  methods: {\r\n    getAll () {\r\n      this.$request.get('http://localhost:8000/api/products').then(res => {\r\n        this.products = res.data\r\n      })\r\n    },\r\n    sort: function (s) {\r\n    // if s == current sort, reverse\r\n      if (s === this.currentSort) {\r\n        this.currentSortDir = this.currentSortDir === 'asc' ? 'desc' : 'asc'\r\n      }\r\n      this.currentSort = s\r\n    },\r\n    changeCurrentDir () {\r\n      this.currentSortDir = -(this.currentSortDir)\r\n    }\r\n    // setTimeout(changeCurrentDir, 1000)\r\n  },\r\n  watch: {\r\n    currentSortDir (value) {\r\n      console.log(this.products)\r\n      this.products.sort((a, b) => this.currentSortDir)\r\n    }\r\n  },\r\n  computed: {\r\n    changeCurrentDir () {\r\n      this.currentSortDir = -(this.currentSortDir)\r\n    },\r\n  }\r\n}\r\n</script>\r\n<style>\r\n\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}