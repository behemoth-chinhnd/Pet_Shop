{"ast":null,"code":"import globalState from '../../globalState.js';\nimport { swalClasses } from '../classes.js';\nimport { isNodeEnv } from '../isNodeEnv.js';\nimport { error } from '../utils.js';\nimport { addClass, getDirectChildByClass, removeClass, setInnerHtml } from './domUtils.js';\nimport { getContainer, getPopup } from './getters.js';\nconst sweetHTML = `\n <div aria-labelledby=\"${swalClasses.title}\" aria-describedby=\"${swalClasses['html-container']}\" class=\"${swalClasses.popup}\" tabindex=\"-1\">\n   <button type=\"button\" class=\"${swalClasses.close}\"></button>\n   <ul class=\"${swalClasses['progress-steps']}\"></ul>\n   <div class=\"${swalClasses.icon}\"></div>\n   <img class=\"${swalClasses.image}\" />\n   <h2 class=\"${swalClasses.title}\" id=\"${swalClasses.title}\"></h2>\n   <div class=\"${swalClasses['html-container']}\" id=\"${swalClasses['html-container']}\"></div>\n   <input class=\"${swalClasses.input}\" />\n   <input type=\"file\" class=\"${swalClasses.file}\" />\n   <div class=\"${swalClasses.range}\">\n     <input type=\"range\" />\n     <output></output>\n   </div>\n   <select class=\"${swalClasses.select}\"></select>\n   <div class=\"${swalClasses.radio}\"></div>\n   <label for=\"${swalClasses.checkbox}\" class=\"${swalClasses.checkbox}\">\n     <input type=\"checkbox\" />\n     <span class=\"${swalClasses.label}\"></span>\n   </label>\n   <textarea class=\"${swalClasses.textarea}\"></textarea>\n   <div class=\"${swalClasses['validation-message']}\" id=\"${swalClasses['validation-message']}\"></div>\n   <div class=\"${swalClasses.actions}\">\n     <div class=\"${swalClasses.loader}\"></div>\n     <button type=\"button\" class=\"${swalClasses.confirm}\"></button>\n     <button type=\"button\" class=\"${swalClasses.deny}\"></button>\n     <button type=\"button\" class=\"${swalClasses.cancel}\"></button>\n   </div>\n   <div class=\"${swalClasses.footer}\"></div>\n   <div class=\"${swalClasses['timer-progress-bar-container']}\">\n     <div class=\"${swalClasses['timer-progress-bar']}\"></div>\n   </div>\n </div>\n`.replace(/(^|\\n)\\s*/g, '');\n/**\n * @returns {boolean}\n */\n\nconst resetOldContainer = () => {\n  const oldContainer = getContainer();\n\n  if (!oldContainer) {\n    return false;\n  }\n\n  oldContainer.remove();\n  removeClass([document.documentElement, document.body], [swalClasses['no-backdrop'], swalClasses['toast-shown'], swalClasses['has-column']]);\n  return true;\n};\n\nconst resetValidationMessage = () => {\n  globalState.currentInstance.resetValidationMessage();\n};\n\nconst addInputChangeListeners = () => {\n  const popup = getPopup();\n  const input = getDirectChildByClass(popup, swalClasses.input);\n  const file = getDirectChildByClass(popup, swalClasses.file);\n  /** @type {HTMLInputElement} */\n\n  const range = popup.querySelector(`.${swalClasses.range} input`);\n  /** @type {HTMLOutputElement} */\n\n  const rangeOutput = popup.querySelector(`.${swalClasses.range} output`);\n  const select = getDirectChildByClass(popup, swalClasses.select);\n  /** @type {HTMLInputElement} */\n\n  const checkbox = popup.querySelector(`.${swalClasses.checkbox} input`);\n  const textarea = getDirectChildByClass(popup, swalClasses.textarea);\n  input.oninput = resetValidationMessage;\n  file.onchange = resetValidationMessage;\n  select.onchange = resetValidationMessage;\n  checkbox.onchange = resetValidationMessage;\n  textarea.oninput = resetValidationMessage;\n\n  range.oninput = () => {\n    resetValidationMessage();\n    rangeOutput.value = range.value;\n  };\n\n  range.onchange = () => {\n    resetValidationMessage();\n    rangeOutput.value = range.value;\n  };\n};\n/**\n * @param {string | HTMLElement} target\n * @returns {HTMLElement}\n */\n\n\nconst getTarget = target => typeof target === 'string' ? document.querySelector(target) : target;\n/**\n * @param {SweetAlertOptions} params\n */\n\n\nconst setupAccessibility = params => {\n  const popup = getPopup();\n  popup.setAttribute('role', params.toast ? 'alert' : 'dialog');\n  popup.setAttribute('aria-live', params.toast ? 'polite' : 'assertive');\n\n  if (!params.toast) {\n    popup.setAttribute('aria-modal', 'true');\n  }\n};\n/**\n * @param {HTMLElement} targetElement\n */\n\n\nconst setupRTL = targetElement => {\n  if (window.getComputedStyle(targetElement).direction === 'rtl') {\n    addClass(getContainer(), swalClasses.rtl);\n  }\n};\n/**\n * Add modal + backdrop + no-war message for Russians to DOM\n *\n * @param {SweetAlertOptions} params\n */\n\n\nexport const init = params => {\n  // Clean up the old popup container if it exists\n  const oldContainerExisted = resetOldContainer();\n  /* istanbul ignore if */\n\n  if (isNodeEnv()) {\n    error('SweetAlert2 requires document to initialize');\n    return;\n  }\n\n  const container = document.createElement('div');\n  container.className = swalClasses.container;\n\n  if (oldContainerExisted) {\n    addClass(container, swalClasses['no-transition']);\n  }\n\n  setInnerHtml(container, sweetHTML);\n  const targetElement = getTarget(params.target);\n  targetElement.appendChild(container);\n  setupAccessibility(params);\n  setupRTL(targetElement);\n  addInputChangeListeners();\n};","map":{"version":3,"names":["globalState","swalClasses","isNodeEnv","error","addClass","getDirectChildByClass","removeClass","setInnerHtml","getContainer","getPopup","sweetHTML","title","popup","close","icon","image","input","file","range","select","radio","checkbox","label","textarea","actions","loader","confirm","deny","cancel","footer","replace","resetOldContainer","oldContainer","remove","document","documentElement","body","resetValidationMessage","currentInstance","addInputChangeListeners","querySelector","rangeOutput","oninput","onchange","value","getTarget","target","setupAccessibility","params","setAttribute","toast","setupRTL","targetElement","window","getComputedStyle","direction","rtl","init","oldContainerExisted","container","createElement","className","appendChild"],"sources":["E:/Behemoth/Project/node_modules/sweetalert2/src/utils/dom/init.js"],"sourcesContent":["import globalState from '../../globalState.js'\nimport { swalClasses } from '../classes.js'\nimport { isNodeEnv } from '../isNodeEnv.js'\nimport { error } from '../utils.js'\nimport { addClass, getDirectChildByClass, removeClass, setInnerHtml } from './domUtils.js'\nimport { getContainer, getPopup } from './getters.js'\n\nconst sweetHTML = `\n <div aria-labelledby=\"${swalClasses.title}\" aria-describedby=\"${swalClasses['html-container']}\" class=\"${swalClasses.popup}\" tabindex=\"-1\">\n   <button type=\"button\" class=\"${swalClasses.close}\"></button>\n   <ul class=\"${swalClasses['progress-steps']}\"></ul>\n   <div class=\"${swalClasses.icon}\"></div>\n   <img class=\"${swalClasses.image}\" />\n   <h2 class=\"${swalClasses.title}\" id=\"${swalClasses.title}\"></h2>\n   <div class=\"${swalClasses['html-container']}\" id=\"${swalClasses['html-container']}\"></div>\n   <input class=\"${swalClasses.input}\" />\n   <input type=\"file\" class=\"${swalClasses.file}\" />\n   <div class=\"${swalClasses.range}\">\n     <input type=\"range\" />\n     <output></output>\n   </div>\n   <select class=\"${swalClasses.select}\"></select>\n   <div class=\"${swalClasses.radio}\"></div>\n   <label for=\"${swalClasses.checkbox}\" class=\"${swalClasses.checkbox}\">\n     <input type=\"checkbox\" />\n     <span class=\"${swalClasses.label}\"></span>\n   </label>\n   <textarea class=\"${swalClasses.textarea}\"></textarea>\n   <div class=\"${swalClasses['validation-message']}\" id=\"${swalClasses['validation-message']}\"></div>\n   <div class=\"${swalClasses.actions}\">\n     <div class=\"${swalClasses.loader}\"></div>\n     <button type=\"button\" class=\"${swalClasses.confirm}\"></button>\n     <button type=\"button\" class=\"${swalClasses.deny}\"></button>\n     <button type=\"button\" class=\"${swalClasses.cancel}\"></button>\n   </div>\n   <div class=\"${swalClasses.footer}\"></div>\n   <div class=\"${swalClasses['timer-progress-bar-container']}\">\n     <div class=\"${swalClasses['timer-progress-bar']}\"></div>\n   </div>\n </div>\n`.replace(/(^|\\n)\\s*/g, '')\n\n/**\n * @returns {boolean}\n */\nconst resetOldContainer = () => {\n  const oldContainer = getContainer()\n  if (!oldContainer) {\n    return false\n  }\n\n  oldContainer.remove()\n  removeClass(\n    [document.documentElement, document.body],\n    [swalClasses['no-backdrop'], swalClasses['toast-shown'], swalClasses['has-column']]\n  )\n\n  return true\n}\n\nconst resetValidationMessage = () => {\n  globalState.currentInstance.resetValidationMessage()\n}\n\nconst addInputChangeListeners = () => {\n  const popup = getPopup()\n\n  const input = getDirectChildByClass(popup, swalClasses.input)\n  const file = getDirectChildByClass(popup, swalClasses.file)\n  /** @type {HTMLInputElement} */\n  const range = popup.querySelector(`.${swalClasses.range} input`)\n  /** @type {HTMLOutputElement} */\n  const rangeOutput = popup.querySelector(`.${swalClasses.range} output`)\n  const select = getDirectChildByClass(popup, swalClasses.select)\n  /** @type {HTMLInputElement} */\n  const checkbox = popup.querySelector(`.${swalClasses.checkbox} input`)\n  const textarea = getDirectChildByClass(popup, swalClasses.textarea)\n\n  input.oninput = resetValidationMessage\n  file.onchange = resetValidationMessage\n  select.onchange = resetValidationMessage\n  checkbox.onchange = resetValidationMessage\n  textarea.oninput = resetValidationMessage\n\n  range.oninput = () => {\n    resetValidationMessage()\n    rangeOutput.value = range.value\n  }\n\n  range.onchange = () => {\n    resetValidationMessage()\n    rangeOutput.value = range.value\n  }\n}\n\n/**\n * @param {string | HTMLElement} target\n * @returns {HTMLElement}\n */\nconst getTarget = (target) => (typeof target === 'string' ? document.querySelector(target) : target)\n\n/**\n * @param {SweetAlertOptions} params\n */\nconst setupAccessibility = (params) => {\n  const popup = getPopup()\n\n  popup.setAttribute('role', params.toast ? 'alert' : 'dialog')\n  popup.setAttribute('aria-live', params.toast ? 'polite' : 'assertive')\n  if (!params.toast) {\n    popup.setAttribute('aria-modal', 'true')\n  }\n}\n\n/**\n * @param {HTMLElement} targetElement\n */\nconst setupRTL = (targetElement) => {\n  if (window.getComputedStyle(targetElement).direction === 'rtl') {\n    addClass(getContainer(), swalClasses.rtl)\n  }\n}\n\n/**\n * Add modal + backdrop + no-war message for Russians to DOM\n *\n * @param {SweetAlertOptions} params\n */\nexport const init = (params) => {\n  // Clean up the old popup container if it exists\n  const oldContainerExisted = resetOldContainer()\n\n  /* istanbul ignore if */\n  if (isNodeEnv()) {\n    error('SweetAlert2 requires document to initialize')\n    return\n  }\n\n  const container = document.createElement('div')\n  container.className = swalClasses.container\n  if (oldContainerExisted) {\n    addClass(container, swalClasses['no-transition'])\n  }\n  setInnerHtml(container, sweetHTML)\n\n  const targetElement = getTarget(params.target)\n  targetElement.appendChild(container)\n\n  setupAccessibility(params)\n  setupRTL(targetElement)\n  addInputChangeListeners()\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}