{"ast":null,"code":"import axios from \"axios\";\nexport default {\n  data() {\n    return {\n      id: \"\",\n      name: \"\",\n      username: \"\",\n      email: \"\",\n      password: \"\",\n      client: {\n        email: localStorage.getItem(\"email\"),\n        token: localStorage.getItem(\"token\"),\n        username: \"\",\n        login: localStorage.getItem(\"login\")\n      }\n    };\n  },\n\n  created() {// this.checkUser();\n  },\n\n  mounted() {\n    this.checkUser();\n  },\n\n  computed: {// ...mapper.mapState([\"product\", \"products\"]),\n  },\n  methods: {\n    // ...mapper.mapActions([\"click\", \"fetchProducts\"]),\n    logoutUser() {\n      localStorage.removeItem(\"email\");\n      localStorage.removeItem(\"token\");\n      localStorage.setItem(\"login\", \"offline\"); // this.$router.push({ name: \"users.login\" });\n\n      window.location.href = \"/login\";\n    },\n\n    async checkUser() {\n      console.log(this);\n      console.log(this.$store.state.user.email);\n      const login = await axios.post(\"http://localhost:8000/api/client\", {\n        email: this.$store.state.user.email\n      }).then(res => {\n        if (!res.data.success) {\n          console.log(res.data.success);\n          console.log(res.status);\n          localStorage.setItem(\"login\", \"offline\");\n          window.location.href = \"/admin/login\";\n        }\n\n        if (res.data.success) {\n          // localStorage.setItem(\"login\", \"online\");\n          this.client.username = res.data.user.username;\n          this.client.password = res.data.user.password;\n          console.log(this.$store.state.user.email);\n          localStorage.setItem(\"login\", \"online\");\n        }\n      });\n    }\n\n  },\n  computed: {}\n};","map":{"version":3,"mappings":"AAmBA;AACA;EACAA;IACA;MACAC,MADA;MAEAC,QAFA;MAGAC,YAHA;MAIAC,SAJA;MAKAC,YALA;MAMAC;QACAF,oCADA;QAEAG,oCAFA;QAGAJ,YAHA;QAIAK;MAJA;IANA;EAaA,CAfA;;EAiBAC,WACA;EACA,CAnBA;;EAoBAC;IACA;EACA,CAtBA;;EAuBAC,WACA;EADA,CAvBA;EA2BAC;IACA;IAEAC;MACAC;MACAA;MACAA,yCAHA,CAIA;;MACAC;IACA,CATA;;IAUA;MACAC;MACAA;MACA,0BACAC,IADA,CACA,kCADA,EACA;QACAb;MADA,CADA,EAIAc,IAJA,CAIAC;QACA;UACAH;UACAA;UACAF;UACAC;QACA;;QAEA;UACA;UACA;UACA;UACAC;UACAF;QACA;MACA,CAnBA;IAoBA;;EAjCA,CA3BA;EA8DAH;AA9DA","names":["data","id","name","username","email","password","client","token","login","created","mounted","computed","methods","logoutUser","localStorage","window","console","post","then","res"],"sourceRoot":"src/components/incfiles","sources":["ClientApp.vue"],"sourcesContent":["<template>\r\n  <div class=\"client\">\r\n    <section id=\"client\" class=\"text-white\">\r\n      <div v-if=\"this.client.login == 'online'\" class=\"flex-row-space-between-center\">\r\n        <h1>Xin ch√†o: {{ client.username }}</h1>\r\n        <!-- <h1>{{ $store.state.user.email }}</h1> -->\r\n        <!-- <h1>{{ client.password }}</h1> -->\r\n        <!-- <h1>{{ $store.state.user.token }}</h1> -->\r\n        <!-- <p>token: {{ client.token }}</p> -->\r\n        <button class=\"btn btn-danger mgl-20px\" @click=\"logoutUser\">Logout</button>\r\n      </div>\r\n      <div v-if=\"this.client.login == 'offline'\" class=\"flex-row-end\">\r\n        <button herf=\"/login\" class=\"btn btn-primary\" @click=\"logoutUser\">Login</button>\r\n      </div>\r\n    </section>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      id: \"\",\r\n      name: \"\",\r\n      username: \"\",\r\n      email: \"\",\r\n      password: \"\",\r\n      client: {\r\n        email: localStorage.getItem(\"email\"),\r\n        token: localStorage.getItem(\"token\"),\r\n        username: \"\",\r\n        login: localStorage.getItem(\"login\"),\r\n      },\r\n    };\r\n  },\r\n\r\n  created() {\r\n    // this.checkUser();\r\n  },\r\n  mounted() {\r\n    this.checkUser();\r\n  },\r\n  computed: {\r\n    // ...mapper.mapState([\"product\", \"products\"]),\r\n  },\r\n\r\n  methods: {\r\n    // ...mapper.mapActions([\"click\", \"fetchProducts\"]),\r\n\r\n    logoutUser() {\r\n      localStorage.removeItem(\"email\");\r\n      localStorage.removeItem(\"token\");\r\n      localStorage.setItem(\"login\", \"offline\");\r\n      // this.$router.push({ name: \"users.login\" });\r\n      window.location.href = \"/login\";\r\n    },\r\n    async checkUser() {\r\n      console.log(this);\r\n      console.log(this.$store.state.user.email);\r\n      const login = await axios\r\n        .post(\"http://localhost:8000/api/client\", {\r\n          email: this.$store.state.user.email,\r\n        })\r\n        .then((res) => {\r\n          if (!res.data.success) {\r\n            console.log(res.data.success);\r\n            console.log(res.status);\r\n            localStorage.setItem(\"login\", \"offline\");\r\n            window.location.href = \"/admin/login\";\r\n          }\r\n\r\n          if (res.data.success) {\r\n            // localStorage.setItem(\"login\", \"online\");\r\n            this.client.username = res.data.user.username;\r\n            this.client.password = res.data.user.password;\r\n            console.log(this.$store.state.user.email);\r\n            localStorage.setItem(\"login\", \"online\");\r\n          }\r\n        });\r\n    },\r\n  },\r\n  computed: {},\r\n};\r\n</script>\r\n"]},"metadata":{},"sourceType":"module"}